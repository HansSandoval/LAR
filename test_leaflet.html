<!DOCTYPE html>
<html>
<head>
    <title>Test Coordenadas Leaflet</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <style>
        #map { height: 600px; width: 100%; }
        .info { padding: 10px; background: white; margin: 10px; }
    </style>
</head>
<body>
    <div class="info">
        <h2>Test de Coordenadas - Iquique, Chile</h2>
        <p><b>Punto de prueba del CSV:</b> "Pje. Ocho"</p>
        <p><b>Latitud CSV:</b> -20.2665</p>
        <p><b>Longitud CSV:</b> -70.1675</p>
        <hr>
        <p><b>Marcador AZUL:</b> Orden [lat, lon] = [-20.2665, -70.1675]</p>
        <p><b>Marcador ROJO:</b> Orden invertido [lon, lat] = [-70.1675, -20.2665]</p>
        <p><b>Marcador VERDE:</b> Centro de Iquique = [-20.2397, -70.1348]</p>
    </div>
    <div id="map"></div>
    
    <script>
        // Crear mapa centrado en Iquique
        const map = L.map('map').setView([-20.2397, -70.1348], 13);
        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            attribution: '© OpenStreetMap',
            maxZoom: 19
        }).addTo(map);

        // Marcador AZUL - Orden normal [lat, lon]
        L.marker([-20.2665, -70.1675], {
            icon: L.icon({
                iconUrl: 'https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-blue.png',
                iconSize: [25, 41],
                iconAnchor: [12, 41]
            })
        }).bindPopup('<b>AZUL:</b> [lat, lon] = [-20.2665, -70.1675]<br>ORDEN NORMAL').addTo(map);

        // Marcador ROJO - Orden invertido [lon, lat]
        L.marker([-70.1675, -20.2665], {
            icon: L.icon({
                iconUrl: 'https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-red.png',
                iconSize: [25, 41],
                iconAnchor: [12, 41]
            })
        }).bindPopup('<b>ROJO:</b> [lon, lat] = [-70.1675, -20.2665]<br>ORDEN INVERTIDO').addTo(map);

        // Marcador VERDE - Centro de Iquique (referencia)
        L.marker([-20.2397, -70.1348], {
            icon: L.icon({
                iconUrl: 'https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-green.png',
                iconSize: [25, 41],
                iconAnchor: [12, 41]
            })
        }).bindPopup('<b>VERDE:</b> Centro de Iquique<br>[-20.2397, -70.1348]').addTo(map);

        // Círculo en el océano para referencia
        L.circle([-20.5, -70.5], {
            color: 'purple',
            fillColor: '#purple',
            fillOpacity: 0.3,
            radius: 10000
        }).bindPopup('Océano Pacífico<br>(para referencia)').addTo(map);
    </script>
</body>
</html>
